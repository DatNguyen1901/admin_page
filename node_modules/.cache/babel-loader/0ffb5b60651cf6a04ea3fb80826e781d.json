{"ast":null,"code":"var _jsxFileName = \"/home/hazo/Desktop/blog-reactjs/src/Page/Post/AddComment.jsx\";\nimport React from \"react\";\nimport { Input, Form, Button, Comment, Avatar } from \"antd\";\nimport addComment from '../../services/post/addComment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  TextArea\n} = Input;\n\nconst Editor = ({\n  onChange,\n  onSubmit,\n  submitting,\n  value\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n    children: /*#__PURE__*/_jsxDEV(TextArea, {\n      row: 4,\n      onChange: onChange,\n      value: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      htmlType: \"submit\",\n      loading: submitting,\n      onClick: onSubmit,\n      type: \"primary\",\n      children: \"Add Comment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 11,\n  columnNumber: 5\n}, this);\n\n_c = Editor;\n\nclass AddComment extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      console.log('comment');\n\n      if (!this.state.value) {\n        return;\n      }\n\n      addComment({\n        post: this.props.post,\n        content: this.state.value\n      }).then(res => {\n        this.props.commentSuccess(res);\n      });\n      this.setState({\n        submitting: true\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        value: e.target.value\n      });\n      setTimeout(() => {\n        this.setState({\n          submitting: false,\n          value: '',\n          comment: [{\n            comment_id: this.props.comment_id,\n            content: this.state.value,\n            post_id: this.props.post_id,\n            user: {\n              name: this.props.name,\n              _id: this.props.id\n            },\n            create_At: this.props.create_At,\n            update_At: this.props.update_At\n          }, ...this.state.comment]\n        });\n      }, 1000);\n    };\n\n    this.state = {\n      comment: [],\n      submitting: false,\n      value: ''\n    };\n  }\n\n  render() {\n    const {\n      submitting,\n      value\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Comment, {\n        isOpen: this.props.visible || false,\n        name: /*#__PURE__*/_jsxDEV(Avatar, {\n          alt: this.props.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 26\n        }, this),\n        content: /*#__PURE__*/_jsxDEV(Editor, {\n          onChange: this.handleChange,\n          onSubmit: this.handleSubmit,\n          submitting: submitting,\n          value: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddComment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Editor\");","map":{"version":3,"sources":["/home/hazo/Desktop/blog-reactjs/src/Page/Post/AddComment.jsx"],"names":["React","Input","Form","Button","Comment","Avatar","addComment","TextArea","Editor","onChange","onSubmit","submitting","value","AddComment","Component","constructor","props","handleSubmit","e","console","log","state","post","content","then","res","commentSuccess","setState","handleChange","target","setTimeout","comment","comment_id","post_id","user","name","_id","id","create_At","update_At","render","visible"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Input,Form,Button,Comment,Avatar} from \"antd\";\nimport addComment from '../../services/post/addComment';\nconst {TextArea} = Input ;\nconst Editor =({\n    onChange,\n    onSubmit,\n    submitting,\n    value,\n})=>(\n    <div>\n        <Form.Item>\n            <TextArea row={4} onChange={onChange} value={value}/>\n        </Form.Item>\n        <Form.Item>\n            <Button htmlType=\"submit\" loading={submitting} onClick={onSubmit} type=\"primary\">\n                Add Comment\n            </Button>\n        </Form.Item>\n    </div>\n);\nclass AddComment extends React.Component {\n    constructor(props){\n        super(props);\n        this.state ={\n            comment:[],\n            submitting:false,\n            value:'',\n        };\n    }\n    handleSubmit = (e )=>{\n        console.log('comment');\n        if(!this.state.value){\n            return;\n        }\n        addComment({\n            post:this.props.post,\n            content:this.state.value,\n        }).then(res => {\n            this.props.commentSuccess(res);\n          });\n      \n          this.setState({\n            submitting: true,\n          });\n        };\n        handleChange = (e ) => {\n          this.setState({\n            value: e.target.value,\n          });\n          setTimeout(() => {\n            this.setState({\n              submitting: false,\n              value: '',\n              comment: [\n                {\n                  comment_id: this.props.comment_id,\n                  content: this.state.value,\n                  post_id:this.props.post_id,\n                  user:{\n                    name:this.props.name,\n                    _id:this.props.id,\n                  },\n                  create_At: this.props.create_At,\n                  update_At:this.props.update_At,\n                },\n                ...this.state.comment,\n              ],\n            });\n          }, 1000);\n        };\n        render() {\n          const { submitting, value } = this.state;\n      \n          return (\n            <div>\n                <Comment isOpen={this.props.visible || false}\n                  name ={<Avatar alt={this.props.name} />}\n                  content={\n                    <Editor onChange={this.handleChange} onSubmit={this.handleSubmit} submitting={submitting} value={value} />\n                  }\n             />\n            </div>\n          );\n        }\n      }\n      export default AddComment;"]},"metadata":{},"sourceType":"module"}