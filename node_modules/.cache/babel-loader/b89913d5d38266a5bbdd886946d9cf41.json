{"ast":null,"code":"var _jsxFileName = \"/home/hazo/Desktop/blog-reactjs/src/Page/Post/PostItem.jsx\";\nimport React from 'react';\nimport { Card, CardBody, CardTitle, CardSubtitle, CardText, Button, ButtonGroup } from 'reactstrap';\nimport { ChatDots, Star, Eye, Trash } from 'react-bootstrap-icons';\nimport { notification } from 'antd';\nimport AddComment from \"../Post/AddComment\";\nimport removePost from \"../../services/post/removePost\";\nimport { Cookies } from 'react-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\nconst user_info = JSON.parse(localStorage.getItem(`userInfo`));\nexport default class PostItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDeleteConfirm = () => {\n      const doRemovePost = async () => {\n        try {\n          this.setState({\n            loading: true\n          });\n          const result = await removePost({\n            post_id: this.props.match.params.post_id\n          });\n          console.log(`result`, result);\n\n          if (result.err !== 0) {\n            notification.error({\n              message: 'Something went wrong!',\n              description: `${result.msg}`\n            });\n            return;\n          }\n\n          this.props.history.push('/home');\n        } catch (e) {\n          notification.error({\n            message: `Something went wrong!`,\n            description: `${e.toString()}`\n          });\n        } finally {\n          this.setState({\n            loading: false\n          });\n        }\n      };\n\n      confirm({\n        title: 'Are you sure delete this post?',\n        okText: 'Yes',\n        okType: 'danger',\n        cancelText: 'No',\n\n        onOk() {\n          console.log('OK');\n          doRemovePost();\n        },\n\n        onCancel() {\n          console.log('Cancel');\n        }\n\n      });\n    };\n\n    this.state = {\n      visibleComment: false\n    };\n  }\n\n  componentDidMount() {\n    const isLoggedIn = cookies.get(`userInfo`);\n  }\n\n  render() {\n    let {\n      post\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-3 mt-3\",\n      children: /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n          tag: \"h5\",\n          children: post.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CardSubtitle, {\n          tag: \"h6\",\n          className: \"mb-2 text-muted\",\n          children: post.user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CardText, {\n          children: post.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"success\",\n            children: [\"5 \", /*#__PURE__*/_jsxDEV(Star, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 51\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"warning\",\n            onClick: () => this.setState({ ...this.state,\n              visibleComment: !this.state.visibleComment\n            }),\n            children: /*#__PURE__*/_jsxDEV(ChatDots, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 142\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"info\",\n            children: /*#__PURE__*/_jsxDEV(Eye, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"danger\",\n            children: /*#__PURE__*/_jsxDEV(Trash, {\n              type: \"delete\",\n              onClick: this.handleDeleteConfirm,\n              style: {\n                visibility: isLoggedIn && user_info._id === (post && post.author._id) ? 'visible' : 'hidden'\n              }\n            }, 1, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/hazo/Desktop/blog-reactjs/src/Page/Post/PostItem.jsx"],"names":["React","Card","CardBody","CardTitle","CardSubtitle","CardText","Button","ButtonGroup","ChatDots","Star","Eye","Trash","notification","AddComment","removePost","Cookies","cookies","user_info","JSON","parse","localStorage","getItem","PostItem","Component","constructor","props","handleDeleteConfirm","doRemovePost","setState","loading","result","post_id","match","params","console","log","err","error","message","description","msg","history","push","e","toString","confirm","title","okText","okType","cancelText","onOk","onCancel","state","visibleComment","componentDidMount","isLoggedIn","get","render","post","user","name","content","visibility","_id","author"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Card, CardBody, CardTitle, CardSubtitle, CardText, Button, ButtonGroup } from 'reactstrap';\nimport { ChatDots, Star, Eye, Trash } from 'react-bootstrap-icons';\nimport {notification} from 'antd';\nimport AddComment from \"../Post/AddComment\";\nimport removePost from \"../../services/post/removePost\";\nimport { Cookies } from 'react-cookie';\nconst cookies=new Cookies();\nconst user_info = JSON.parse(localStorage.getItem(`userInfo`));\n\nexport default class PostItem extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state={\n            visibleComment: false\n        }\n    }\n    componentDidMount() {\n        const isLoggedIn = cookies.get(`userInfo`);\n    }\n    handleDeleteConfirm = () => {\n        const doRemovePost = async () => {\n          try {\n            this.setState({\n              loading: true,\n            });\n    \n            const result = await removePost({\n              post_id: this.props.match.params.post_id,\n            });\n    \n            console.log(`result`, result);\n    \n            if (result.err !== 0) {\n              notification.error({\n                message: 'Something went wrong!',\n                description: `${result.msg}`,\n              });\n              return;\n            }\n    \n            this.props.history.push('/home');\n          } catch (e) {\n            notification.error({\n              message: `Something went wrong!`,\n              description: `${e.toString()}`,\n            });\n          } finally {\n            this.setState({\n              loading: false,\n            });\n          }\n        };\n    \n        confirm({\n          title: 'Are you sure delete this post?',\n          okText: 'Yes',\n          okType: 'danger',\n          cancelText: 'No',\n          onOk() {\n            console.log('OK');\n            doRemovePost();\n          },\n          onCancel() {\n            console.log('Cancel');\n          },\n        });\n      };\n\n    render() {\n        let { post } = this.props;\n        return (\n            <Card className=\"mb-3 mt-3\">\n                <CardBody>\n                    <CardTitle tag=\"h5\">{post.title}</CardTitle>\n                    <CardSubtitle tag=\"h6\" className=\"mb-2 text-muted\">{post.user.name}</CardSubtitle>\n                    <CardText>{post.content}</CardText>\n                    <ButtonGroup>\n                        <Button color=\"success\">5 <Star /></Button>\n                        <Button color=\"warning\" onClick={() => this.setState({ ...this.state, visibleComment: !this.state.visibleComment })}><ChatDots /></Button>\n                        <Button color=\"info\"><Eye /></Button>\n                        <Button color=\"danger\"><Trash \n                        key={1}\n                        type=\"delete\"\n                        onClick={this.handleDeleteConfirm}\n                        style={{\n                          visibility: isLoggedIn && user_info._id === (post && post.author._id) ? 'visible' : 'hidden',\n                        }} />\n                        </Button>\n                    </ButtonGroup>\n                </CardBody>\n            </Card>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}