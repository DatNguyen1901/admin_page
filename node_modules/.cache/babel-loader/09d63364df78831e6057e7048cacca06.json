{"ast":null,"code":"var _jsxFileName = \"/home/hazo/Desktop/blog-reactjs/src/Page/Login/Component/LoginForm.js\";\nimport React from 'react';\nimport './LoginForm.css';\nimport axios from 'axios';\nimport { withRouter } from \"react-router-dom\";\nimport { Cookies } from \"react-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fields: {},\n      errors: {}\n    };\n  }\n\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true; //Email\n\n    if (!fields[\"email\"]) {\n      formIsValid = false;\n      errors[\"email\"] = \"Không được để trống\";\n    }\n\n    if (typeof fields[\"email\"] !== \"undefined\") {\n      var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n\n      if (!pattern.test(fields[\"email\"])) {\n        formIsValid = false;\n        errors[\"email\"] = \"Email không hợp lệ\";\n      }\n    } //Pass\n\n\n    if (!fields[\"password\"]) {\n      formIsValid = false;\n      errors[\"password\"] = \"Không được để trống \";\n    }\n\n    this.setState({\n      errors: errors\n    });\n    return formIsValid;\n  }\n\n  contactSubmit(e) {\n    let cookie = new Cookies();\n    e.preventDefault();\n    let user = {\n      // name: this.state.fields.email,\n      // pass: this.state.fields.password\n      user_name: 'hung1',\n      pass: '1234'\n    };\n    console.log(\"user\", user);\n    cookie.set('mess', 'minh'); // key : value\n\n    console.log(cookie.get('mess')); // get by key\n    // if (this.handleValidation()) {\n\n    axios.post(\"http://0ae2588d14d3.ngrok.io/api/auth/login\", {\n      user_name: \"hung1\",\n      pass: \"1234\"\n    }).then(res => {\n      console.log(\"res\", res);\n      console.log(\"cookie\", cookie);\n      this.props.history.push('/home');\n    }).catch(err => {\n      console.log(\"err\", err);\n    }); //   alert(\"Đăng nhập thành công\");\n    // } else {\n    //   alert(\"Đăng nhập thất bại\")\n    // }\n  }\n\n  handleChange(field, e) {\n    let fields = this.state.fields;\n    fields[field] = e.target.value;\n    this.setState({\n      fields\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-form\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.contactSubmit.bind(this),\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"\\u0110\\u0103ng Nh\\u1EADp Ng\\u01B0\\u1EDDi D\\xF9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-box\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: \"email\",\n                  name: \"email\",\n                  type: \"text\",\n                  placeholder: \"Nh\\u1EADp t\\xEAn ng\\u01B0\\u1EDDi d\\xF9ng\",\n                  onChange: this.handleChange.bind(this, \"email\"),\n                  value: this.state.fields[\"email\"]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: this.state.errors[\"email\"]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-box\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                refs: \"password\",\n                name: \"password\",\n                type: \"password\",\n                placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\",\n                onChange: this.handleChange.bind(this, \"password\"),\n                value: this.state.fields[\"password\"]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: this.state.errors[\"password\"]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-box\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                value: \"Submit\",\n                children: \"\\u0110\\u0103ng nh\\u1EADp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), \"Or \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/register\",\n              children: \"register now!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(LoginForm);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/hazo/Desktop/blog-reactjs/src/Page/Login/Component/LoginForm.js"],"names":["React","axios","withRouter","Cookies","LoginForm","Component","constructor","props","state","fields","errors","handleValidation","formIsValid","pattern","RegExp","test","setState","contactSubmit","e","cookie","preventDefault","user","user_name","pass","console","log","set","get","post","then","res","history","push","catch","err","handleChange","field","target","value","render","bind","color"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './LoginForm.css';\nimport axios from 'axios';\nimport {withRouter} from \"react-router-dom\";\nimport {Cookies} from \"react-cookie\";\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fields: {},\n      errors: {}\n    };\n  };\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true;\n    //Email\n    if (!fields[\"email\"]) {\n      formIsValid = false;\n      errors[\"email\"] = \"Không được để trống\";\n    }\n    if (typeof fields[\"email\"] !== \"undefined\") {\n\n      var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n      if (!pattern.test(fields[\"email\"])) {\n        formIsValid = false;\n        errors[\"email\"] = \"Email không hợp lệ\";\n      }\n    }\n    //Pass\n    if (!fields[\"password\"]) {\n      formIsValid = false;\n      errors[\"password\"] = \"Không được để trống \";\n    }\n    this.setState({ errors: errors });\n    return formIsValid;\n  }\n  contactSubmit(e) {\n        \n    let cookie = new Cookies();\n\n    e.preventDefault();\n\n    let user = {\n        // name: this.state.fields.email,\n        // pass: this.state.fields.password\n        user_name: 'hung1',\n        pass: '1234'\n    };\n\n    console.log(\"user\", user);\n    cookie.set('mess', 'minh'); // key : value\n\n\n    console.log(cookie.get('mess')); // get by key\n    // if (this.handleValidation()) {\n    axios.post(\"http://0ae2588d14d3.ngrok.io/api/auth/login\", { \n        user_name: \"hung1\",\n        pass: \"1234\"\n     }).then(\n        (res) => {\n            console.log(\"res\", res);\n\n            console.log(\"cookie\", cookie);\n\n            this.props.history.push('/home');\n        }\n    ).catch(\n        (err) => {\n            console.log(\"err\", err);\n        }\n    );\n    //   alert(\"Đăng nhập thành công\");\n    // } else {\n    //   alert(\"Đăng nhập thất bại\")\n    // }\n\n}\n\n  handleChange(field, e) {\n    let fields = this.state.fields;\n    fields[field] = e.target.value;\n    this.setState({ fields });\n  }\n\n  render() {\n    return (\n      <main>\n        <div className=\"container\">\n          <div className=\"login-form\">\n            <form onSubmit={this.contactSubmit.bind(this)}>\n              <h1>Đăng Nhập Người Dùng</h1>\n\n              <div className=\"input-box\">\n                <label for=\"\">Email</label>\n                <p>\n                  <input ref=\"email\" name=\"email\" type=\"text\" placeholder=\"Nhập tên người dùng\"\n                    onChange={this.handleChange.bind(this, \"email\")} value={this.state.fields[\"email\"]} />\n                  <span style={{ color: \"red\" }}>{this.state.errors[\"email\"]}</span>\n                </p>\n              </div>\n              <div className=\"input-box\">\n                <label for=\"\">Password</label>\n                <input refs=\"password\" name=\"password\" type=\"password\" placeholder=\"Nhập mật khẩu\"\n                  onChange={this.handleChange.bind(this, \"password\")} value={this.state.fields[\"password\"]} />\n                <span style={{ color: \"red\" }}>{this.state.errors[\"password\"]}</span>\n              </div>\n\n              <div className=\"btn-box\">\n                <button type=\"submit\" value=\"Submit\">\n                  Đăng nhập\n                   </button>\n              </div>\n                  Or <a href=\"/register\">register now!</a>\n            </form>\n          </div>\n        </div>\n      </main>\n    )\n  }\n}\n\nexport default withRouter(LoginForm);"]},"metadata":{},"sourceType":"module"}