{"ast":null,"code":"var _jsxFileName = \"/home/hazo/Desktop/blog-reactjs/src/Page/Component/FormInputUser.jsx\";\nimport React from 'react';\nimport { Form, FormGroup, Label, Input, Button, Alert } from 'reactstrap';\nimport register from '../../services/auth/register';\nimport login from '../../services/auth/login';\nimport { Cookies } from 'react-cookie';\nimport './Style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class FormInputUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user_name: '',\n      pass: '',\n      name: '',\n      sex: 'MALE',\n      phone_number: '',\n      address: '',\n      error: ''\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChangeName = this.handleChangeName.bind(this);\n    this.handleChangePassword = this.handleChangePassword.bind(this);\n    this.handleChangeSex = this.handleChangeSex.bind(this);\n    this.handleChangeAddress = this.handleChangeAddress.bind(this);\n    this.handleChangePhoneNumber = this.handleChangePhoneNumber.bind(this);\n    this.handleChangeUserName = this.handleChangeUserName.bind(this);\n    this.handleReset = this.handleReset.bind(this);\n  }\n\n  handleChangeName(e) {\n    this.setState({ ...this.state,\n      name: e.target.value\n    });\n  }\n\n  handleChangePassword(e) {\n    this.setState({ ...this.state,\n      pass: e.target.value\n    });\n  }\n\n  handleChangeUserName(e) {\n    this.setState({ ...this.state,\n      user_name: e.target.value\n    });\n  }\n\n  handleChangeAddress(e) {\n    this.setState({ ...this.state,\n      address: e.target.value\n    });\n  }\n\n  handleChangeSex(e) {\n    this.setState({ ...this.state,\n      sex: e.target.value\n    });\n  }\n\n  handleChangePhoneNumber(e) {\n    this.setState({ ...this.state,\n      phone_number: e.target.value\n    });\n  }\n\n  handleReset() {\n    this.setState(() => ({\n      user_name: '',\n      pass: '',\n      name: '',\n      sex: 'MALE',\n      phone_number: '',\n      address: ''\n    }));\n  }\n\n  async handleSubmit(e) {\n    let cookies = new Cookies();\n    e.preventDefault();\n\n    if (this.props.type === \"register\") {\n      try {\n        const result = await register({ ...this.state,\n          error: undefined\n        });\n\n        if (result.err === 0) {\n          this.props.onRegisterSuccess(true);\n          return;\n        }\n\n        this.setState({ ...this.state,\n          err: 'Đăng ký thất bại!'\n        });\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    } else {\n      try {\n        const result = await login({\n          user_name: this.state.user_name,\n          pass: this.state.pass\n        });\n\n        if (result.err === 0) {\n          cookies.set('accessToken', result.data.data.access_token);\n          cookies.set('userInfo', result.data.data.user_data);\n          this.props.onLoginSuccess(true);\n          return;\n        }\n\n        this.setState({ ...this.state,\n          error: 'Đăng nhập thất bại!'\n        });\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [this.state.error && /*#__PURE__*/_jsxDEV(Alert, {\n        color: \"warning\",\n        children: this.state.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 38\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"login-form\",\n        onSubmit: this.handleSubmit,\n        children: [this.props.type === 'register' && /*#__PURE__*/_jsxDEV(FormGroup, {\n          className: \"input-box\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"name\",\n            children: \"H\\u1ECD v\\xE0 t\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            value: this.state.name,\n            onChange: this.handleChangeName,\n            autoFocus: true,\n            name: \"email\",\n            id: \"name\",\n            placeholder: \"H\\u1ECD v\\xE0 t\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          className: \"input-box\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"user_name\",\n            children: \"T\\xE0i kho\\u1EA3n \\u0111\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            value: this.state.user_name,\n            onChange: this.handleChangeUserName,\n            autoFocus: true,\n            type: \"email\",\n            name: \"email\",\n            id: \"user_name\",\n            placeholder: \"T\\xE0i kho\\u1EA3n \\u0111\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), this.props.type === \"register\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            className: \"input-box\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"exampleSelectMulti\",\n              children: \"Gi\\u1EDBi t\\xEDnh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: this.state.sex,\n              onChange: this.handleChangeSex,\n              type: \"select\",\n              name: \"select\",\n              id: \"exampleSelectMulti\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"MALE\",\n                children: \"Nam\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"FEMALE\",\n                children: \"N\\u1EEF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            className: \"input-box\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"address\",\n              children: \"\\u0110\\u1ECBa ch\\u1EC9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: this.state.address,\n              onChange: this.handleChangeAddress,\n              autoFocus: true,\n              name: \"email\",\n              id: \"address\",\n              placeholder: \"\\u0110\\u1ECBa ch\\u1EC9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            className: \"input-box\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"phone_number\",\n              children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: this.state.phone_number,\n              onChange: this.handleChangePhoneNumber,\n              autoFocus: true,\n              name: \"phone\",\n              id: \"phone_number\",\n              placeholder: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(FormGroup, {\n          className: \"input-box\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"password\",\n            children: \"M\\u1EADt kh\\u1EA9u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            value: this.state.pass,\n            onChange: this.handleChangePassword,\n            type: \"password\",\n            name: \"password\",\n            id: \"password\",\n            placeholder: \"M\\u1EADt kh\\u1EA9u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn-box\",\n          color: \"primary\",\n          children: this.props.type === 'register' ? 'Đăng ký' : 'Đăng nhập'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["/home/hazo/Desktop/blog-reactjs/src/Page/Component/FormInputUser.jsx"],"names":["React","Form","FormGroup","Label","Input","Button","Alert","register","login","Cookies","FormInputUser","Component","constructor","props","state","user_name","pass","name","sex","phone_number","address","error","handleSubmit","bind","handleChangeName","handleChangePassword","handleChangeSex","handleChangeAddress","handleChangePhoneNumber","handleChangeUserName","handleReset","e","setState","target","value","cookies","preventDefault","type","result","undefined","err","onRegisterSuccess","console","log","set","data","access_token","user_data","onLoginSuccess","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Form,FormGroup,Label,Input,Button,Alert} from 'reactstrap';\nimport register from '../../services/auth/register';\nimport login from '../../services/auth/login';\nimport {Cookies} from 'react-cookie';\nimport './Style.css';\n\nexport default class FormInputUser extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            user_name:'',\n            pass:'',\n            name:'',\n            sex:'MALE',\n            phone_number:'',\n            address:'',\n            error:'',\n        }\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChangeName = this.handleChangeName.bind(this);\n        this.handleChangePassword = this.handleChangePassword.bind(this);\n        this.handleChangeSex = this.handleChangeSex.bind(this);\n        this.handleChangeAddress = this.handleChangeAddress.bind(this);\n        this.handleChangePhoneNumber = this.handleChangePhoneNumber.bind(this);\n        this.handleChangeUserName = this.handleChangeUserName.bind(this);\n        this.handleReset = this.handleReset.bind(this);\n    }\n    handleChangeName(e){\n        this.setState({\n            ...this.state,\n            name:e.target.value\n        })\n    }\n    handleChangePassword(e){\n        this.setState({\n            ...this.state,\n            pass:e.target.value\n        })\n    }\n    handleChangeUserName(e){\n        this.setState({\n            ...this.state,\n            user_name:e.target.value\n        })\n    }\n    handleChangeAddress(e){\n        this.setState({\n            ...this.state,\n            address:e.target.value\n        })\n    }\n    handleChangeSex(e){\n        this.setState({\n            ...this.state,\n            sex:e.target.value\n        })\n    }\n    handleChangePhoneNumber(e){\n        this.setState({\n            ...this.state,\n            phone_number:e.target.value\n        })\n    }\n    handleReset(){\n        this.setState(() => ({\n            user_name:'',\n            pass:'',\n            name:'',\n            sex:'MALE',\n            phone_number:'',\n            address:'',\n        }));\n    }\n    async handleSubmit(e){\n        let cookies=new Cookies();\n        e.preventDefault();\n\n        if(this.props.type===\"register\"){\n            try{\n                const result = await register({\n                    ...this.state,\n                    error: undefined\n                });\n                if(result.err === 0){\n                    this.props.onRegisterSuccess(true);\n                    return;\n                }\n                this.setState({\n                    ...this.state,\n                    err:'Đăng ký thất bại!'\n                });\n            }catch(error){\n                console.log(\"error\",error);\n            }\n        }else{\n            try{\n                const result= await login({\n                    user_name:this.state.user_name,\n                    pass:this.state.pass\n                });\n                if(result.err ===0){\n                    cookies.set('accessToken',result.data.data.access_token);\n                    cookies.set('userInfo',result.data.data.user_data);\n                    this.props.onLoginSuccess(true);\n                    return;\n                }\n                this.setState({\n                    ...this.state,\n                    error:'Đăng nhập thất bại!'\n                });\n            }catch(error){\n                console.log(\"error\",error);\n            }\n        }\n    }\n    render() {\n        return (\n            <>\n                {this.state.error && <Alert color=\"warning\">{this.state.error}</Alert>}\n                <Form className=\"login-form\" onSubmit={this.handleSubmit}>\n\n                    {\n                        this.props.type === 'register' &&\n                        <FormGroup className=\"input-box\">\n                            <Label for=\"name\">Họ và tên</Label>\n                            <Input value={this.state.name} onChange={this.handleChangeName} autoFocus name=\"email\" id=\"name\" placeholder=\"Họ và tên\" />\n                        </FormGroup>\n                    }\n                    <FormGroup className=\"input-box\">\n                        <Label for=\"user_name\">Tài khoản đăng nhập</Label>\n                        <Input value={this.state.user_name} onChange={this.handleChangeUserName} autoFocus type=\"email\" name=\"email\" id=\"user_name\" placeholder=\"Tài khoản đăng nhập\" />\n                    </FormGroup>\n\n                    {this.props.type === \"register\" &&\n                        <>\n                            <FormGroup className=\"input-box\">\n                                <Label for=\"exampleSelectMulti\">Giới tính</Label>\n                                <Input value={this.state.sex} onChange={this.handleChangeSex} type=\"select\" name=\"select\" id=\"exampleSelectMulti\">\n                                    <option value=\"MALE\">Nam</option>\n                                    <option value=\"FEMALE\">Nữ</option>\n                                </Input>\n                            </FormGroup>\n                            <FormGroup className=\"input-box\">\n                                <Label for=\"address\">Địa chỉ</Label>\n                                <Input value={this.state.address} onChange={this.handleChangeAddress} autoFocus name=\"email\" id=\"address\" placeholder=\"Địa chỉ\" />\n                            </FormGroup>\n                            <FormGroup className=\"input-box\">\n                                <Label for=\"phone_number\">Số điện thoại</Label>\n                                <Input value={this.state.phone_number} onChange={this.handleChangePhoneNumber} autoFocus name=\"phone\" id=\"phone_number\" placeholder=\"Số điện thoại\" />\n                            </FormGroup>\n                        </>\n                    }\n                    <FormGroup className=\"input-box\">\n                        <Label for=\"password\">Mật khẩu</Label>\n                        <Input value={this.state.pass} onChange={this.handleChangePassword} type=\"password\" name=\"password\" id=\"password\" placeholder=\"Mật khẩu\" />\n                    </FormGroup>\n\n                    <Button className=\"btn-box\" color=\"primary\">{this.props.type === 'register' ? 'Đăng ký' : 'Đăng nhập'}</Button>\n                </Form>\n            </>\n        );\n    }\n    \n}"]},"metadata":{},"sourceType":"module"}