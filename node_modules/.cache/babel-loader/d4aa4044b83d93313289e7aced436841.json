{"ast":null,"code":"var _jsxFileName = \"/home/hazo/Desktop/blog-reactjs/src/Page/Post/PostItem.jsx\";\nimport React from 'react';\nimport { Card, CardBody, CardTitle, CardSubtitle, CardText, Button, ButtonGroup } from 'reactstrap';\nimport { ChatDots, Star, Eye, Trash } from 'react-bootstrap-icons';\nimport { notification, Modal } from 'antd';\nimport AddComment from \"../Post/AddComment\";\nimport removePost from \"../../services/post/removePost\";\nimport { Cookies } from 'react-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\nconst {\n  confirm\n} = Modal;\nexport default class PostItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDeleteConfirm = () => {\n      const doRemovePost = async () => {\n        try {\n          this.setState({\n            loading: true\n          });\n          const result = await removePost({\n            post_id: this.props.post.post_id,\n            ...this.state\n          });\n          console.log(`result`, result);\n\n          if (result.err !== 0) {\n            notification.error({\n              message: 'Something went wrong!',\n              description: `${result.msg}`\n            });\n            return;\n          }\n\n          this.props.history.push('/list_post');\n        } catch (e) {\n          notification.error({\n            message: `Something went wrong!`,\n            description: `${e.toString()}`\n          });\n        } finally {\n          this.setState({\n            loading: false\n          });\n        }\n      };\n\n      confirm({\n        title: 'Are you sure delete this post?',\n        okText: 'Yes',\n        okType: 'danger',\n        cancelText: 'No',\n\n        onOk() {\n          console.log('OK');\n          doRemovePost();\n        },\n\n        onCancel() {\n          console.log('Cancel');\n        }\n\n      });\n    };\n\n    this.state = {\n      visibleComment: false\n    };\n  }\n\n  componentDidMount() {\n    const isLoggedIn = cookies.get(`userInfo`);\n  }\n\n  render() {\n    let {\n      post\n    } = this.props;\n    const isLoggedIn = !!cookies.get('userInfo');\n    const user_info = cookies.get('userInfo');\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-3 mt-3\",\n      children: /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n          tag: \"h5\",\n          children: post.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardSubtitle, {\n          tag: \"h6\",\n          className: \"mb-2 text-muted\",\n          children: post.user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardText, {\n          children: post.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"success\",\n            children: [\"5 \", /*#__PURE__*/_jsxDEV(Star, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"warning\",\n            onClick: () => this.setState({ ...this.state,\n              visibleComment: !this.state.visibleComment\n            }),\n            children: /*#__PURE__*/_jsxDEV(ChatDots, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 130\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"info\",\n            children: /*#__PURE__*/_jsxDEV(Eye, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"danger\",\n            children: /*#__PURE__*/_jsxDEV(Trash, {\n              type: \"delete\",\n              onClick: this.handleDeleteConfirm // style={{\n              //   visibility: isLoggedIn && user_info.post_id === (post && post.post_id) ? 'visible' : 'hidden',\n              //  }} \n\n            }, 1, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/hazo/Desktop/blog-reactjs/src/Page/Post/PostItem.jsx"],"names":["React","Card","CardBody","CardTitle","CardSubtitle","CardText","Button","ButtonGroup","ChatDots","Star","Eye","Trash","notification","Modal","AddComment","removePost","Cookies","cookies","confirm","PostItem","Component","constructor","props","handleDeleteConfirm","doRemovePost","setState","loading","result","post_id","post","state","console","log","err","error","message","description","msg","history","push","e","toString","title","okText","okType","cancelText","onOk","onCancel","visibleComment","componentDidMount","isLoggedIn","get","render","user_info","user","name","content"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Card, CardBody, CardTitle, CardSubtitle, CardText, Button, ButtonGroup } from 'reactstrap';\nimport { ChatDots, Star, Eye, Trash } from 'react-bootstrap-icons';\nimport { notification, Modal } from 'antd';\nimport AddComment from \"../Post/AddComment\";\nimport removePost from \"../../services/post/removePost\";\nimport { Cookies } from 'react-cookie';\nconst cookies = new Cookies();\nconst { confirm } = Modal;\n\nexport default class PostItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      visibleComment: false\n    }\n  }\n  componentDidMount() {\n    const isLoggedIn = cookies.get(`userInfo`);\n  }\n  handleDeleteConfirm = () => {\n    const doRemovePost = async () => {\n      try {\n        this.setState({\n          loading: true,\n        });\n\n        const result = await removePost({\n          post_id: this.props.post.post_id,\n          ...this.state,\n        });\n\n        console.log(`result`, result);\n\n        if (result.err !== 0) {\n          notification.error({\n            message: 'Something went wrong!',\n            description: `${result.msg}`,\n          });\n          return;\n        }\n\n        this.props.history.push('/list_post');\n      } catch (e) {\n        notification.error({\n          message: `Something went wrong!`,\n          description: `${e.toString()}`,\n        });\n      } finally {\n        this.setState({\n          loading: false,\n        });\n      }\n    };\n\n    confirm({\n      title: 'Are you sure delete this post?',\n      okText: 'Yes',\n      okType: 'danger',\n      cancelText: 'No',\n      onOk() {\n        console.log('OK');\n        doRemovePost();\n      },\n      onCancel() {\n        console.log('Cancel');\n      },\n    });\n  };\n\n  render() {\n    let { post } = this.props;\n    const isLoggedIn = !!cookies.get('userInfo');\n    const user_info = cookies.get('userInfo');\n    return (\n      <Card className=\"mb-3 mt-3\">\n        <CardBody>\n          <CardTitle tag=\"h5\">{post.title}</CardTitle>\n          <CardSubtitle tag=\"h6\" className=\"mb-2 text-muted\">{post.user.name}</CardSubtitle>\n          <CardText>{post.content}</CardText>\n          <ButtonGroup>\n            <Button color=\"success\">5 <Star /></Button>\n            <Button color=\"warning\" onClick={() => this.setState({ ...this.state, visibleComment: !this.state.visibleComment })}><ChatDots /></Button>\n            <Button color=\"info\"><Eye /></Button>\n            <Button color=\"danger\"><Trash\n              key={1}\n              type=\"delete\"\n              onClick={this.handleDeleteConfirm}\n            // style={{\n            //   visibility: isLoggedIn && user_info.post_id === (post && post.post_id) ? 'visible' : 'hidden',\n            //  }} \n            />\n            </Button>\n          </ButtonGroup>\n        </CardBody>\n      </Card>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}